<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Backoffice | GoArgentina</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
:root { --primary: #0066FF; --accent: #FFD500; --dark: #0A0E27; --light: #F8F9FF; --success: #10B981; --warning: #F59E0B; --danger: #EF4444; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: var(--dark); color: var(--light); line-height: 1.6; }
.stars { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; }
.star { position: absolute; width: 2px; height: 2px; background: white; border-radius: 50%; opacity: 0.4; animation: twinkle 3s infinite; }
@keyframes twinkle { 0%, 100% { opacity: 0.4; } 50% { opacity: 1; } }
@keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-10px); } }
@keyframes slideDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

/* Header */
header { padding: 20px 0; backdrop-filter: blur(20px); background: rgba(10, 14, 39, 0.95); border-bottom: 1px solid rgba(255, 255, 255, 0.1); position: sticky; top: 0; z-index: 100; }
.header-container { max-width: 1600px; margin: 0 auto; padding: 0 30px; display: flex; justify-content: space-between; align-items: center; }
.logo { font-size: 24px; font-weight: 800; background: linear-gradient(135deg, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; display: flex; align-items: center; gap: 10px; }
.logo-icon { width: 40px; height: 40px; background: linear-gradient(135deg, var(--primary), var(--accent)); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 20px; animation: float 3s ease-in-out infinite; }
.admin-badge { padding: 4px 12px; background: rgba(239, 68, 68, 0.2); border: 1px solid rgba(239, 68, 68, 0.5); border-radius: 12px; font-size: 12px; font-weight: 600; color: var(--danger); }
.header-actions { display: flex; align-items: center; gap: 16px; }
.logout-btn { background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: rgba(255, 255, 255, 0.7); padding: 8px 16px; border-radius: 20px; cursor: pointer; transition: all 0.3s; font-size: 14px; }
.logout-btn:hover { background: rgba(255, 255, 255, 0.1); color: white; }

/* Main Container */
.main-container { max-width: 1600px; margin: 0 auto; padding: 40px 30px; position: relative; z-index: 1; }
.page-header { margin-bottom: 40px; animation: slideDown 0.6s ease-out; }
.page-title { font-size: clamp(28px, 4vw, 36px); font-weight: 900; margin-bottom: 8px; background: linear-gradient(135deg, #ffffff, #a0b0ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
.page-subtitle { font-size: 16px; color: rgba(255, 255, 255, 0.6); }

/* Stats Cards */
.stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; margin-bottom: 40px; }
.stat-box { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 16px; padding: 24px; transition: all 0.3s; }
.stat-box:hover { transform: translateY(-4px); border-color: rgba(0, 102, 255, 0.4); }
.stat-label { font-size: 13px; color: rgba(255, 255, 255, 0.6); margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px; }
.stat-value { font-size: 32px; font-weight: 900; background: linear-gradient(135deg, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

/* Actions Bar */
.actions-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; flex-wrap: wrap; gap: 16px; }
.search-box { flex: 1; min-width: 250px; max-width: 400px; position: relative; }
.search-input { width: 100%; padding: 12px 16px 12px 44px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; color: white; font-size: 14px; transition: all 0.3s; }
.search-input:focus { outline: none; border-color: var(--primary); background: rgba(255, 255, 255, 0.08); }
.search-input::placeholder { color: rgba(255, 255, 255, 0.4); }
.search-icon { position: absolute; left: 16px; top: 50%; transform: translateY(-50%); font-size: 18px; opacity: 0.5; }
.btn-primary { background: linear-gradient(135deg, var(--primary), #0052CC); color: white; border: none; padding: 12px 24px; border-radius: 12px; font-weight: 600; cursor: pointer; transition: all 0.3s; font-size: 14px; box-shadow: 0 8px 20px rgba(0, 102, 255, 0.3); }
.btn-primary:hover { transform: translateY(-2px); box-shadow: 0 12px 30px rgba(0, 102, 255, 0.5); }

/* Clients Table */
.clients-table { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 16px; overflow: hidden; }
.table-header { display: grid; grid-template-columns: 2fr 1.5fr 1fr 1fr 1fr 100px; gap: 16px; padding: 20px 24px; background: rgba(255, 255, 255, 0.03); border-bottom: 1px solid rgba(255, 255, 255, 0.1); font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; color: rgba(255, 255, 255, 0.6); }
.client-row { display: grid; grid-template-columns: 2fr 1.5fr 1fr 1fr 1fr 100px; gap: 16px; padding: 20px 24px; border-bottom: 1px solid rgba(255, 255, 255, 0.05); transition: all 0.2s; cursor: pointer; align-items: center; }
.client-row:hover { background: rgba(255, 255, 255, 0.05); }
.client-row:last-child { border-bottom: none; }
.client-name { font-weight: 600; font-size: 15px; }
.client-email { font-size: 13px; color: rgba(255, 255, 255, 0.6); }
.client-phone { font-size: 13px; color: rgba(255, 255, 255, 0.7); }
.status-badge { display: inline-flex; align-items: center; gap: 6px; padding: 6px 12px; border-radius: 20px; font-size: 12px; font-weight: 600; white-space: nowrap; }
.status-badge.fase-1 { background: rgba(0, 102, 255, 0.2); color: var(--primary); border: 1px solid rgba(0, 102, 255, 0.4); }
.status-badge.fase-2 { background: rgba(0, 102, 255, 0.2); color: #3B82F6; border: 1px solid rgba(59, 130, 246, 0.4); }
.status-badge.fase-3 { background: rgba(245, 158, 11, 0.2); color: var(--warning); border: 1px solid rgba(245, 158, 11, 0.4); }
.status-badge.completed { background: rgba(16, 185, 129, 0.2); color: var(--success); border: 1px solid rgba(16, 185, 129, 0.4); }
.docs-count { font-size: 13px; color: rgba(255, 255, 255, 0.7); }
.docs-count.complete { color: var(--success); font-weight: 600; }
.action-btn { background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: white; padding: 8px 16px; border-radius: 8px; font-size: 13px; font-weight: 600; cursor: pointer; transition: all 0.2s; }
.action-btn:hover { background: rgba(0, 102, 255, 0.2); border-color: var(--primary); }

/* Modal */
.modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(8px); z-index: 1000; animation: fadeIn 0.3s ease-out; }
.modal.active { display: flex; align-items: center; justify-content: center; padding: 20px; }
.modal-content { background: var(--dark); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 24px; max-width: 1200px; width: 100%; max-height: 90vh; overflow-y: auto; position: relative; animation: slideDown 0.3s ease-out; }
.modal-header { padding: 30px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); display: flex; justify-content: space-between; align-items: center; }
.modal-title { font-size: 24px; font-weight: 900; background: linear-gradient(135deg, #ffffff, #a0b0ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
.modal-close { background: rgba(255, 255, 255, 0.05); border: none; color: white; width: 36px; height: 36px; border-radius: 50%; cursor: pointer; font-size: 20px; transition: all 0.2s; }
.modal-close:hover { background: rgba(239, 68, 68, 0.2); }
.modal-body { padding: 30px; }

/* Client Detail View */
.detail-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 30px; }
.detail-section { background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 16px; padding: 24px; }
.section-title { font-size: 18px; font-weight: 700; margin-bottom: 20px; display: flex; align-items: center; gap: 8px; }
.info-row { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid rgba(255, 255, 255, 0.05); }
.info-row:last-child { border-bottom: none; }
.info-label { font-size: 13px; color: rgba(255, 255, 255, 0.6); }
.info-value { font-size: 14px; font-weight: 600; }

/* Documents Grid */
.documents-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
.doc-card { background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 16px; padding: 20px; transition: all 0.3s; }
.doc-card:hover { border-color: rgba(0, 102, 255, 0.4); }
.doc-card.uploaded { border-color: rgba(16, 185, 129, 0.4); background: rgba(16, 185, 129, 0.05); }
.doc-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px; }
.doc-icon { font-size: 32px; }
.doc-status { font-size: 11px; padding: 4px 10px; border-radius: 12px; font-weight: 600; }
.doc-status.pending { background: rgba(245, 158, 11, 0.2); color: var(--warning); }
.doc-status.uploaded { background: rgba(16, 185, 129, 0.2); color: var(--success); }
.doc-title { font-size: 16px; font-weight: 700; margin-bottom: 8px; }
.doc-info { font-size: 12px; color: rgba(255, 255, 255, 0.5); margin-bottom: 12px; }
.doc-actions { display: flex; gap: 8px; }
.btn-small { padding: 8px 14px; font-size: 12px; border-radius: 8px; border: 1px solid rgba(255, 255, 255, 0.1); background: rgba(255, 255, 255, 0.05); color: white; cursor: pointer; transition: all 0.2s; font-weight: 600; }
.btn-small:hover { background: rgba(0, 102, 255, 0.2); border-color: var(--primary); }
.btn-success { background: rgba(16, 185, 129, 0.2); border-color: rgba(16, 185, 129, 0.4); color: var(--success); }
.btn-success:hover { background: rgba(16, 185, 129, 0.3); }

/* Phase Status Section */
.phases-list { display: flex; flex-direction: column; gap: 12px; }
.phase-item { background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 16px; display: flex; justify-content: space-between; align-items: center; transition: all 0.2s; }
.phase-item.active { border-color: var(--primary); background: rgba(0, 102, 255, 0.1); }
.phase-item.completed { border-color: var(--success); background: rgba(16, 185, 129, 0.05); }
.phase-info-text { flex: 1; }
.phase-name { font-size: 14px; font-weight: 600; margin-bottom: 4px; }
.phase-desc { font-size: 12px; color: rgba(255, 255, 255, 0.5); }
.phase-actions { display: flex; gap: 8px; }

/* Notes Section */
.notes-area { width: 100%; min-height: 120px; padding: 12px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; color: white; font-family: inherit; font-size: 14px; resize: vertical; }
.notes-area:focus { outline: none; border-color: var(--primary); }
.notes-area::placeholder { color: rgba(255, 255, 255, 0.4); }

/* Form Elements */
.form-group { margin-bottom: 20px; }
.form-label { display: block; font-size: 13px; font-weight: 600; margin-bottom: 8px; color: rgba(255, 255, 255, 0.8); }
.form-input { width: 100%; padding: 12px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; color: white; font-size: 14px; }
.form-input:focus { outline: none; border-color: var(--primary); background: rgba(255, 255, 255, 0.08); }
.form-input::placeholder { color: rgba(255, 255, 255, 0.4); }
.form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
.modal-footer { padding: 24px 30px; border-top: 1px solid rgba(255, 255, 255, 0.1); display: flex; justify-content: flex-end; gap: 12px; }
.btn-secondary { background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: white; padding: 12px 24px; border-radius: 12px; font-weight: 600; cursor: pointer; transition: all 0.2s; font-size: 14px; }
.btn-secondary:hover { background: rgba(255, 255, 255, 0.1); }

/* Empty State */
.empty-state { text-align: center; padding: 60px 20px; }
.empty-icon { font-size: 64px; margin-bottom: 16px; opacity: 0.3; }
.empty-text { font-size: 16px; color: rgba(255, 255, 255, 0.6); }

/* Responsive */
@media (max-width: 1200px) {
  .table-header, .client-row { grid-template-columns: 2fr 1.5fr 1fr 100px; }
  .hide-mobile { display: none; }
  .detail-grid { grid-template-columns: 1fr; }
}
@media (max-width: 768px) {
  .stats-grid { grid-template-columns: 1fr; }
  .actions-bar { flex-direction: column; align-items: stretch; }
  .search-box { max-width: 100%; }
  .table-header, .client-row { grid-template-columns: 1fr 100px; }
  .form-grid { grid-template-columns: 1fr; }
}
</style>
</head>
<body>
<div class="stars"></div>

<header>
<div class="header-container">
<div style="display: flex; align-items: center; gap: 16px;">
<div class="logo">
<div class="logo-icon">üá¶üá∑</div>
<span>GoArgentina</span>
</div>
<span class="admin-badge">üîê Admin</span>
</div>
<div class="header-actions">
<button class="logout-btn">Sair</button>
</div>
</div>
</header>

<main class="main-container">
<div class="page-header">
<h1 class="page-title">Painel Administrativo</h1>
<p class="page-subtitle">Gerencie clientes e processos de DNI</p>
</div>

<div class="stats-grid">
<div class="stat-box">
<div class="stat-label">Total de Clientes</div>
<div class="stat-value" id="totalClients">12</div>
</div>
<div class="stat-box">
<div class="stat-label">Em Andamento</div>
<div class="stat-value" id="activeClients">8</div>
</div>
<div class="stat-box">
<div class="stat-label">Conclu√≠dos</div>
<div class="stat-value" id="completedClients">4</div>
</div>
<div class="stat-box">
<div class="stat-label">Novos (7 dias)</div>
<div class="stat-value" id="newClients">3</div>
</div>
</div>

<div class="actions-bar">
<div class="search-box">
<span class="search-icon">üîç</span>
<input type="text" class="search-input" placeholder="Buscar por nome, email ou CPF..." id="searchInput">
</div>
<button class="btn-primary" onclick="openNewClientModal()">‚ûï Novo Cliente</button>
</div>

<div class="clients-table">
<div class="table-header">
<div>Cliente</div>
<div>Contato</div>
<div class="hide-mobile">Status</div>
<div class="hide-mobile">Docs</div>
<div>Fase</div>
<div>A√ß√µes</div>
</div>
<div id="clientsList">
<!-- Clientes ser√£o inseridos aqui via JavaScript -->
</div>
</div>

</main>

<!-- Modal: Novo Cliente -->
<div class="modal" id="newClientModal">
<div class="modal-content">
<div class="modal-header">
<h2 class="modal-title">‚ûï Novo Cliente</h2>
<button class="modal-close" onclick="closeNewClientModal()">‚úï</button>
</div>
<div class="modal-body">
<form id="newClientForm">
<div class="form-grid">
<div class="form-group">
<label class="form-label">Nome Completo *</label>
<input type="text" class="form-input" placeholder="Ex: Jo√£o da Silva" required>
</div>
<div class="form-group">
<label class="form-label">Email *</label>
<input type="email" class="form-input" placeholder="Ex: joao@email.com" required>
</div>
</div>
<div class="form-grid">
<div class="form-group">
<label class="form-label">CPF *</label>
<input type="text" class="form-input" placeholder="000.000.000-00" required>
</div>
<div class="form-group">
<label class="form-label">Telefone *</label>
<input type="tel" class="form-input" placeholder="(00) 00000-0000" required>
</div>
</div>
<div class="form-group">
<label class="form-label">Plano</label>
<select class="form-input">
<option>Plano 1 - Guia DNI</option>
<option>Plano 2 - DNI sem stress</option>
</select>
</div>
</form>
</div>
<div class="modal-footer">
<button class="btn-secondary" onclick="closeNewClientModal()">Cancelar</button>
<button class="btn-primary" onclick="createNewClient()">Criar Cliente</button>
</div>
</div>
</div>

<!-- Modal: Detalhes do Cliente -->
<div class="modal" id="clientDetailModal">
<div class="modal-content">
<div class="modal-header">
<h2 class="modal-title" id="clientDetailTitle">Detalhes do Cliente</h2>
<button class="modal-close" onclick="closeClientDetailModal()">‚úï</button>
</div>
<div class="modal-body">
<div class="detail-grid">
<div class="detail-section">
<h3 class="section-title">üë§ Informa√ß√µes Pessoais</h3>
<div class="info-row">
<span class="info-label">Nome</span>
<span class="info-value" id="detailName">-</span>
</div>
<div class="info-row">
<span class="info-label">Email</span>
<span class="info-value" id="detailEmail">-</span>
</div>
<div class="info-row">
<span class="info-label">CPF</span>
<span class="info-value" id="detailCPF">-</span>
</div>
<div class="info-row">
<span class="info-label">Telefone</span>
<span class="info-value" id="detailPhone">-</span>
</div>
<div class="info-row">
<span class="info-label">Plano</span>
<span class="info-value" id="detailPlan">-</span>
</div>
<div class="info-row">
<span class="info-label">Criado em</span>
<span class="info-value" id="detailCreated">-</span>
</div>
</div>

<div class="detail-section">
<h3 class="section-title">üîÑ Status do Processo</h3>
<div class="phases-list" id="phasesList">
<!-- Fases ser√£o inseridas aqui -->
</div>
</div>
</div>

<div class="detail-section" style="margin-bottom: 24px;">
<h3 class="section-title">üìÑ Documentos Enviados</h3>
<div class="documents-grid" id="documentsGrid">
<!-- Documentos ser√£o inseridos aqui -->
</div>
</div>

<div class="detail-section">
<h3 class="section-title">üìù Notas Internas</h3>
<textarea class="notes-area" placeholder="Adicione notas sobre este cliente..." id="clientNotes"></textarea>
<div style="margin-top: 16px; display: flex; justify-content: flex-end;">
<button class="btn-primary" onclick="saveNotes()">Salvar Notas</button>
</div>
</div>

</div>
</div>
</div>

<script>
// Criar estrelas
const starsContainer = document.querySelector('.stars');
for (let i = 0; i < 100; i++) {
  const star = document.createElement('div');
  star.className = 'star';
  star.style.left = Math.random() * 100 + '%';
  star.style.top = Math.random() * 100 + '%';
  star.style.animationDelay = Math.random() * 3 + 's';
  starsContainer.appendChild(star);
}

// Dados de exemplo (simula backend)
const clients = [
  { id: 1, name: 'Ana Silva', email: 'ana@email.com', cpf: '123.456.789-00', phone: '(11) 98765-4321', plan: 'Plano 2', phase: 1, currentPhase: 'Fase 1', docs: 4, docsUploaded: 4, createdAt: '2024-01-15', notes: 'Cliente muito proativa, j√° enviou todos documentos.' },
  { id: 2, name: 'Carlos Mendes', email: 'carlos@email.com', cpf: '987.654.321-00', phone: '(21) 99999-8888', plan: 'Plano 1', phase: 3, currentPhase: 'Fase 3', docs: 4, docsUploaded: 3, createdAt: '2024-01-10', notes: 'Aguardando documento de domic√≠lio.' },
  { id: 3, name: 'Maria Santos', email: 'maria@email.com', cpf: '456.789.123-00', phone: '(31) 97777-6666', plan: 'Plano 2', phase: 7, currentPhase: 'Conclu√≠do', docs: 4, docsUploaded: 4, createdAt: '2023-12-01', notes: 'Processo conclu√≠do com sucesso! DNI entregue.' },
  { id: 4, name: 'Pedro Oliveira', email: 'pedro@email.com', cpf: '789.123.456-00', phone: '(41) 96666-5555', plan: 'Plano 1', phase: 2, currentPhase: 'Fase 2', docs: 4, docsUploaded: 2, createdAt: '2024-01-18', notes: '' },
];

const phases = [
  { id: 1, name: 'Documenta√ß√£o inicial', desc: 'RG e foto' },
  { id: 2, name: 'Antecedentes criminais', desc: 'Emiss√£o de certid√£o' },
  { id: 3, name: 'Domic√≠lio', desc: 'Comprovante de endere√ßo' },
  { id: 4, name: 'Cadastro RADEX', desc: 'Sistema migrat√≥rio' },
  { id: 5, name: 'Pagamento de taxas', desc: 'Boletos' },
  { id: 6, name: 'Cita migrat√≥ria', desc: 'Agendamento' },
  { id: 7, name: 'DNI emitido', desc: 'Documento pronto' }
];

const documents = [
  { id: 'rg', name: 'RG (Identidade)', icon: 'ü™™' },
  { id: 'antecedentes', name: 'Antecedentes Criminais', icon: 'üìã' },
  { id: 'foto', name: 'Foto 3x4', icon: 'üì∏' },
  { id: 'outros', name: 'Outros Documentos', icon: 'üìÅ' }
];

let currentClientId = null;

// Renderizar lista de clientes
function renderClients(filter = '') {
  const container = document.getElementById('clientsList');
  container.innerHTML = '';
  
  const filtered = clients.filter(c => 
    c.name.toLowerCase().includes(filter.toLowerCase()) ||
    c.email.toLowerCase().includes(filter.toLowerCase()) ||
    c.cpf.includes(filter)
  );
  
  filtered.forEach(client => {
    const phaseClass = client.phase === 7 ? 'completed' : `fase-${client.phase}`;
    const docsClass = client.docsUploaded === client.docs ? 'complete' : '';
    
    const row = document.createElement('div');
    row.className = 'client-row';
    row.onclick = () => openClientDetail(client.id);
    row.innerHTML = `
      <div>
        <div class="client-name">${client.name}</div>
        <div class="client-email">${client.email}</div>
      </div>
      <div>
        <div class="client-phone">${client.phone}</div>
        <div class="client-email">${client.cpf}</div>
      </div>
      <div class="hide-mobile">
        <span class="status-badge ${phaseClass}">${client.currentPhase}</span>
      </div>
      <div class="hide-mobile">
        <span class="docs-count ${docsClass}">${client.docsUploaded}/${client.docs}</span>
      </div>
      <div>
        <span class="status-badge ${phaseClass}">Fase ${client.phase}</span>
      </div>
      <div>
        <button class="action-btn" onclick="event.stopPropagation(); openClientDetail(${client.id})">Ver</button>
      </div>
    `;
    container.appendChild(row);
  });
}

// Busca
document.getElementById('searchInput').addEventListener('input', (e) => {
  renderClients(e.target.value);
});

// Modal: Novo Cliente
function openNewClientModal() {
  document.getElementById('newClientModal').classList.add('active');
}

function closeNewClientModal() {
  document.getElementById('newClientModal').classList.remove('active');
  document.getElementById('newClientForm').reset();
}

function createNewClient() {
  alert('Cliente criado com sucesso! (Funcionalidade de backend necess√°ria)');
  closeNewClientModal();
}

// Modal: Detalhes do Cliente
function openClientDetail(clientId) {
  currentClientId = clientId;
  const client = clients.find(c => c.id === clientId);
  if (!client) return;
  
  // Preencher informa√ß√µes
  document.getElementById('detailName').textContent = client.name;
  document.getElementById('detailEmail').textContent = client.email;
  document.getElementById('detailCPF').textContent = client.cpf;
  document.getElementById('detailPhone').textContent = client.phone;
  document.getElementById('detailPlan').textContent = client.plan;
  document.getElementById('detailCreated').textContent = new Date(client.createdAt).toLocaleDateString('pt-BR');
  document.getElementById('clientNotes').value = client.notes;
  
  // Renderizar fases
  const phasesList = document.getElementById('phasesList');
  phasesList.innerHTML = '';
  phases.forEach((phase, index) => {
    const isActive = client.phase === phase.id;
    const isCompleted = client.phase > phase.id;
    const classList = isCompleted ? 'completed' : (isActive ? 'active' : '');
    
    const phaseItem = document.createElement('div');
    phaseItem.className = `phase-item ${classList}`;
    phaseItem.innerHTML = `
      <div class="phase-info-text">
        <div class="phase-name">${phase.name}</div>
        <div class="phase-desc">${phase.desc}</div>
      </div>
      <div class="phase-actions">
        ${!isCompleted ? `<button class="btn-small" onclick="setPhase(${client.id}, ${phase.id})">Definir como atual</button>` : ''}
        ${isCompleted ? `<button class="btn-small btn-success">‚úì Conclu√≠da</button>` : ''}
      </div>
    `;
    phasesList.appendChild(phaseItem);
  });
  
  // Renderizar documentos
  const docsGrid = document.getElementById('documentsGrid');
  docsGrid.innerHTML = '';
  documents.forEach(doc => {
    const uploaded = Math.random() > 0.3; // Simula status
    const docCard = document.createElement('div');
    docCard.className = `doc-card ${uploaded ? 'uploaded' : ''}`;
    docCard.innerHTML = `
      <div class="doc-header">
        <div class="doc-icon">${doc.icon}</div>
        <div class="doc-status ${uploaded ? 'uploaded' : 'pending'}">${uploaded ? '‚úì Enviado' : '‚è≥ Pendente'}</div>
      </div>
      <div class="doc-title">${doc.name}</div>
      ${uploaded ? `<div class="doc-info">Enviado em 15/01/2024</div>` : `<div class="doc-info">Aguardando upload</div>`}
      <div class="doc-actions">
        ${uploaded ? `<button class="btn-small">üëÅÔ∏è Visualizar</button>` : ''}
        ${uploaded ? `<button class="btn-small btn-success">‚úì Aprovar</button>` : ''}
      </div>
    `;
    docsGrid.appendChild(docCard);
  });
  
  document.getElementById('clientDetailModal').classList.add('active');
}

function closeClientDetailModal() {
  document.getElementById('clientDetailModal').classList.remove('active');
  currentClientId = null;
}

function setPhase(clientId, phaseId) {
  const client = clients.find(c => c.id === clientId);
  if (client) {
    client.phase = phaseId;
    client.currentPhase = phaseId === 7 ? 'Conclu√≠do' : `Fase ${phaseId}`;
    alert(`Fase atualizada para: Fase ${phaseId}`);
    renderClients();
    closeClientDetailModal();
    openClientDetail(clientId);
  }
}

function saveNotes() {
  const notes = document.getElementById('clientNotes').value;
  const client = clients.find(c => c.id === currentClientId);
  if (client) {
    client.notes = notes;
    alert('Notas salvas com sucesso!');
  }
}

//  Inicializar
renderClients();
</script>
</body>
</html>